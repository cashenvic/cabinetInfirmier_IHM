<mat-accordion >
    <mat-expansion-panel class="mb-2"
                         (opened)="panelOpenState = true"
                         (closed)="panelOpenState = false"
                         expanded="true">

        <!--Affichage des profils des infirmiers-->
        <mat-expansion-panel-header class="lightsmoke">
            <mat-panel-title class="blue">
                # {{infirmier.id}}
            </mat-panel-title>
            <mat-panel-description fxLayoutAlign="end">
                <i>{{infirmier.nom}} {{infirmier.prenom}}&nbsp;</i>
            </mat-panel-description>
        </mat-expansion-panel-header>

        <!--contenu du panel expansion-->
        <div>
            <div class="panel-body">
                <div class="user-profile">
                    <div class="tabbable">

                        <div class="tab-content no-border padding-24">
                            <div class="tab-pane in active">

                                <div class="row">
                                    
                                    <!-- photo -->
                                    <div class="col-xs-12 col-sm-3 center">
                                        <span class="profile-picture">
                                        <img class="editable img-responsive" [src]="imgSrc">
                                        </span>
                                        <div class="space space-4"></div>
                                    </div><!-- /.col -->

                                    <!-- profil -->
                                    <div class="col-xs-12 col-sm-9">
                                        <h4 class="blue">
                                            <span class="middle"> {{infirmier.nom}} {{infirmier.prenom}}</span>
                                        </h4>
                                        <div class="profile-user-info">
                                            <div class="profile-info-row">
                                                <div class="profile-info-name"> Adresse</div>

                                                <div class="profile-info-value">
                                                    <span> {{infirmier.adresse.numero}} {{infirmier.adresse.rue}} </span>
                                                    <span>{{infirmier.adresse.codePostal}}</span>
                                                    <span>{{infirmier.adresse.ville}}</span>
                                                    <span *ngIf="infirmier.adresse.etage !== ''">au {{infirmier.adresse.etage}}e étage</span>
                                                    <mat-icon>place</mat-icon>
                                                </div>
                                            </div>
                                        </div>
                                    </div> <!-- /.col -->
                                </div><!-- /.row -->

                            </div>
                            <div class="space-20"></div> <br/>

                            <div class="row">
                                <!--Affichage des profils des patients de l'infirmier-->
                                <div class="col-xs-12 col-sm-12 col-md-12">
                                    <div class="widget-box transparent">

                                        <div class="widget-header widget-header-small">
                                            <h4 class="widget-title smaller">
                                                <i class="ace-icon fa fa-check-square-o bigger-110"></i>
                                                Patients
                                            </h4>
                                        </div>
                                        <div *ngIf="infirmier.patients.length < 1">
                                            <i>Aucun patient n'est affecté à cet(te) infirmier(e)</i>
                                        </div>
                                        <!--affichage des données du patients-->
                                        <app-modify-patient *ngFor="let p of infirmier.patients" [patient]="p"
                                                            [affected]="true"
                                                            [inInfirmier]="true"
                                                            [infirmiers]="infirmiers"
                                                            (patientStateChanged)="onPatientStateChanged()">
                                        </app-modify-patient>    

                                    </div>
                                </div>
                            </div>                          
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </mat-expansion-panel>
</mat-accordion> 